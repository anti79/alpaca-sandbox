<!DOCTYPE html>
<head>
	<title>ALPACA Sandbox</title>
<!--<script src ="{{ url_for('static', filename='life1.js') }}"></script>-->
<script>
	{{ js_code | safe}}
	{{ states | safe}}
</script>

<script src ="{{ url_for('static', filename='playfield.js') }}"></script>
<script src ="{{ url_for('static', filename='sandbox.js') }}"></script>
<script src ="{{ url_for('static', filename='lib/codemirror.js') }}"></script>
<script src ="{{ url_for('static', filename='lib/simple.js') }}"></script>
<script src ="{{ url_for('static', filename='lib/alpaca.js') }}"></script>

<link href="{{ url_for('static', filename='bootstrap.min.css') }}" rel="stylesheet"/>
<link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet" />
<link href="{{ url_for('static', filename='lib/codemirror.css') }}" rel="stylesheet" />

</head>
<body onload="onload()">
	<h1 class="title"><a href="/">ALPACA Sandbox</a></h1>
	<div id="main-block">
	<div id="pf-div" class="charPosition">
	<span class="error-msg">{{ error }}</span>
	</div>
	<div id="editor">
		<form method="post" action="compile" id="editor-form">
		<textarea spellcheck="false" class="editor-textarea" id="editor-textarea" name="code" class="textarea">
			{{ alp_code }}
		</textarea>
		<div id="code-buttons">
		<button id="compile-button" class="btn">Run</button>
		<button id="download-button" class="btn">Download code</button>
		</div>
		</form>
	</div>
	</div>
	<div id="controls">
	<button id="start" class="btn btn-class-primary" onclick="step()">➡️ Step</button><br/>
   	<button id="run"  class="btn btn-class-primary"onclick="setTimer()">▶️ Start</button><br/>
   	<button id="stop" class="btn btn-class-primary" onclick="stopTimer()">⏹ Stop</button><br/>
   	<button id="clear" class="btn btn-class-primary" onclick="reset()">❌ Clear</button>
	
	<input type="range" id="speed" min="10" max="200" />
	<div class="d-flex align-items-center ms-1" id="speed-value">100 ms</div>
	<div class="vr"></div>
	<div id="palette">
		
	</div>
	</div>
	
	<script>
		var myCodeMirror = CodeMirror.fromTextArea(document.getElementById("editor-textarea"), {
    lineNumbers: true,
	mode: "alpaca"
  });
	</script>
</body>